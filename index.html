<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Игра с кубиком</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Добро пожаловать в Казино!</h1>
            <div class="balance-info">
                <button id="checkBalanceButton">Показать баланс</button>
                <div id="balanceOutput"></div>
            </div>
        </header>
        <main>
            <div class="game">
                <div class="dice-container">
                    <div id="dice" class="dice">
                        <div class="face front">1</div>
                        <div class="face back">2</div>
                        <div class="face right">3</div>
                        <div class="face left">4</div>
                        <div class="face top">5</div>
                        <div class="face bottom">6</div>
                    </div>
                </div>
                <div class="controls">
                    <button id="rollDiceButton">Кинуть кубик</button>
                </div>
            </div>
        </main>
        <footer>
            <p>© 2024 Казино Онлайн</p>
        </footer>
    </div>

    <script src="script.js"></script>
    <script>
        window.addEventListener('load', function() {
            if (window.ethereum == undefined) {
                console.log('Please install MetaMask!');
                alert('Please install MetaMask!');
            } else {
                ethereum
                    .request({
                        method: 'net_version'
                    })
                    .then((result) => {
                        console.log("Сеть: " + result);
                    })
                    .catch((error) => {
                        console.log(error);
                    });
            }
        });

        function getBalance() {
            let address = ethereum.selectedAddress;
            if (!address) {
                alert('Please connect to MetaMask!');
                return;
            }
            ethereum
                .request({
                    method: 'eth_getBalance',
                    params: [address, 'latest']
                })
                .then((result) => {
                    console.log("Баланс: " + parseInt(result, 16) / 1e18);
                    document.getElementById("balanceOutput").innerText =
                        "Баланс: " + parseInt(result, 16) / 1e18 + " ETH";
                })
                .catch((error) => {
                    console.log(error);
                    document.getElementById("balanceOutput").innerText = error.message;
                });
        }

        document.getElementById('checkBalanceButton').addEventListener('click', getBalance);
    </script>
</body>
</html>
